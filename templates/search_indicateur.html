<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plateforme de données régionales</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts (Inter) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous">
  <!-- CSS personnalisé -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/search_indicateur.css') }}">
</head>
<body class="bg-gray-50 font-inter text-gray-800">
  <!-- Overlay pour le menu mobile -->
  <div id="menu-overlay" class="menu-overlay"></div>

  <!-- En-tête principal -->
  <header class="bg-white shadow-sm">
    <div class="container mx-auto px-4 py-4 flex items-center justify-center">
      <img src="{{ url_for('static', filename='img/logo.jpeg') }}" alt="Logo" class="h-10 w-10 mr-3">
      <h1 class="text-2xl md:text-3xl font-bold text-gray-900">Plateforme de données régionales</h1>
    </div>
  </header>

  <!-- En-tête secondaire (Navigation) -->
  <nav class="bg-white shadow-sm">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <!-- Menu hamburger (mobile) -->
      <div class="toggle-container">
        <button id="menu-toggle" class="text-gray-600 focus:outline-none" aria-label="Ouvrir le menu">
          <i id="menu-icon" class="fas fa-bars text-2xl"></i>
        </button>
      </div>

      <!-- Conteneur pour les liens et la barre de recherche -->
      <div class="nav-and-search flex items-center space-x-4">
        <!-- Liens de navigation -->
        <div id="nav-links" class="nav-links items-center space-x-4">
          <a href="{{ url_for('list_regions') }}" class="logo-link p-2 rounded-lg hover:bg-gray-100 transition" aria-label="Retour à la liste des régions">
            <img src="{{ url_for('static', filename='img/logo2.png') }}" alt="Statistiques" class="h-8 w-8">
          </a>
          <a href="{{ url_for('search_indicators') }}" class="text-gray-600 hover:text-blue-800 font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition">Accéder aux indicateurs</a>
          <a href="{{ url_for('api') }}" class="text-gray-600 hover:text-blue-800 font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition">Demande API</a>
        </div>

        <!-- Barre de recherche -->
        <div class="search-bar relative">
          <form method="POST" action="{{ url_for('search') }}" onsubmit="return submitSearch();" class="flex items-center space-x-2">
            <input type="text" id="search-input" name="query" placeholder="Entrez votre recherche..." required autocomplete="off" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" aria-label="Rechercher un indicateur">
            <button type="submit" id="search-button" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition">Rechercher</button>
          </form>
          <div id="suggestions" class="suggestions-list absolute w-full bg-white border border-gray-300 rounded-b-lg shadow-lg max-h-48 overflow-y-auto z-50 hidden"></div>
        </div>
      </div>
    </div>
  </nav>

<!-- Modale d'introduction -->
<div class="modal fade fixed inset-0 flex items-center justify-center z-50 hidden" id="descriptionModal" tabindex="-1" aria-labelledby="descriptionModalLabel" aria-hidden="true">
  <div class="modal-dialog max-w-lg">
    <div class="modal-content bg-white">
      <div class="modal-header border-b border-gray-200 px-6 py-4">
        <h5 class="modal-title text-lg font-semibold bg-primary-dark" id="descriptionModalLabel">
          <i class="fas fa-info-circle bg-primary-dark mr-2"></i> Description de la base de données
        </h5>
        <button type="button" class="btn-close text-gray-600 hover:bg-primary-dark" data-bs-dismiss="modal" aria-label="Fermer la modale">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body px-6 py-4 text-gray-700">
        <p>Cette base de données a été développée afin de mettre à la disposition des utilisateurs et des usagers un moyen efficace pour accéder aux données statistiques régionales désagrégées.</p>
        <p>Elle est composée autant des données produites par les structures du système statistique national que de celles issues des enquêtes d'envergures réalisées par l'Agence Nationale de la Statistique (ANStat).</p>
      </div>
      <div class="modal-footer border-t border-gray-200 px-6 py-4">
        <button type="button" class="bg-primary-dark text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition" data-bs-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>
<!-- Backdrop pour la modale -->
<div class="modal-backdrop fixed inset-0 bg-black bg-opacity-50 z-40 hidden" id="modalBackdrop"></div>

  <!-- Contenu principal -->
  <main class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Sidebar (Domaines) -->
      <section class="sidebar bg-white p-6 rounded-lg shadow-sm">
        <h5 class="text-lg font-semibold text-gray-900 mb-4">Domaines</h5>
        <ul id="domaines" class="list-group space-y-2"></ul>
      </section>

      <!-- Main Content (Sous-domaines) -->
      <section class="main-content bg-white p-6 rounded-lg shadow-sm">
        <h5 class="text-lg font-semibold text-gray-900 mb-4">Sous-domaines</h5>
        <ul id="thematiques" class="list-group space-y-2"></ul>
      </section>

      <!-- Indicators List (Indicateurs) -->
      <section class="indicators-list bg-white p-6 rounded-lg shadow-sm">
        <h5 class="text-lg font-semibold text-gray-900 mb-4">Indicateurs</h5>
        <div class="flex items-center space-x-2 mb-4">
          <input type="text" id="indicatorSearch" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Saisir mot clé..." aria-label="Filtrer les indicateurs">
          <button id="clearSearch" class="bg-gray-200 text-gray-600 px-4 py-2 rounded-lg hover:bg-gray-300 transition">Effacer</button>
        </div>
        <ul id="indicateurs" class="list-group space-y-2 max-h-96 overflow-y-auto"></ul>
      </section>
    </div>

    <!-- Informations sur le domaine -->
    <!-- Informations sur le domaine (nom du domaine sera inséré dynamiquement) -->
<section class="mt-8 bg-white p-6 rounded-lg shadow-sm">
  <button id="btn-en-savoir-plus" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition hidden">Informations sur le domaine</button>
  <div id="domaine-info" class="mt-4 hidden">
    <p id="domaine-description" class="text-gray-700"></p>
  </div>
</section>
  </main>

  <!-- Pied de page -->
  <footer class="bg-primary text-white py-6">
    <div class="container mx-auto px-4 text-center">
      <p class="text-sm">© 2025 Plateforme de données régionales. Tous droits réservés.</p>
      <div class="mt-4 flex justify-center space-x-4">
        <a href="#" class="hover:text-gray-200 transition">À propos</a>
        <a href="#" class="hover:text-gray-200 transition">Contact</a>
        <a href="#" class="hover:text-gray-200 transition">Mentions légales</a>
      </div>
    </div>
  </footer>

  <!-- Script JavaScript -->
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>